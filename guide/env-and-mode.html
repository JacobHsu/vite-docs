<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      环境变量和模式 | Vite 官方中文文档
    </title>
    <meta name="description" content="下一代前端开发与构建工具">
    <link rel="stylesheet" href="/vite-docs/assets/style.acadeef6.css">
    <link rel="modulepreload" href="/vite-docs/assets/Home.b843b6af.js">
    <link rel="modulepreload" href="/vite-docs/assets/CarbonAds.2d9c88d0.js">
    <link rel="modulepreload" href="/vite-docs/assets/app.a2203fca.js">
    <link rel="modulepreload" href="/vite-docs/assets/guide_env-and-mode.md.feb2bd78.lean.js">
    <link rel="modulepreload" href="/vite-docs/assets/app.a2203fca.js">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-c0a2c60c><div class="sidebar-button" data-v-c0a2c60c><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/vite-docs/" aria-label="Vite 官方中文文档, back to home" data-v-c0a2c60c data-v-7a4ac696><img class="logo" src="/vite-docs/logo.svg" alt="Logo" data-v-7a4ac696> Vite 官方中文文档</a><div class="flex-grow" data-v-c0a2c60c></div><div class="nav" data-v-c0a2c60c><nav class="nav-links" data-v-c0a2c60c data-v-f73db414><!--[--><div class="item" data-v-f73db414><div class="nav-link" data-v-f73db414 data-v-3f935ff0><a class="item" href="/vite-docs/guide/" data-v-3f935ff0>指引 <!----></a></div></div><div class="item" data-v-f73db414><div class="nav-link" data-v-f73db414 data-v-3f935ff0><a class="item" href="/vite-docs/config/" data-v-3f935ff0>配置 <!----></a></div></div><div class="item" data-v-f73db414><div class="nav-link" data-v-f73db414 data-v-3f935ff0><a class="item" href="/vite-docs/plugins/" data-v-3f935ff0>插件 <!----></a></div></div><div class="item" data-v-f73db414><div class="nav-dropdown-link" data-v-f73db414 data-v-138c8ccb><button class="button" data-v-138c8ccb><span class="button-text" data-v-138c8ccb>相关链接</span><span class="right button-arrow" data-v-138c8ccb></span></button><ul class="dialog" data-v-138c8ccb><!--[--><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://twitter.com/vite_js" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Twitter</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://chat.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Discord Chat</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://github.com/vitejs/awesome-vite" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Awesome Vite</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://dev.to/t/vite" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Dev.to 社区</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://vite-rollup-plugins.patak.dev/" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Rollup 插件兼容</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>更新日志</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-f73db414><div class="nav-dropdown-link" data-v-f73db414 data-v-138c8ccb><button class="button" data-v-138c8ccb><span class="button-text" data-v-138c8ccb>多语言</span><span class="right button-arrow" data-v-138c8ccb></span></button><ul class="dialog" data-v-138c8ccb><!--[--><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://cn.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>简体中文</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>English</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><!--]--><!----><div class="item" data-v-f73db414><div class="nav-link" data-v-f73db414 data-v-3f935ff0><a class="item isExternal" href="https://github.com/vitejs/docs-cn" target="_blank" rel="noopener noreferrer" data-v-3f935ff0>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-3f935ff0><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-4b92f82c><nav class="nav-links nav" data-v-4b92f82c data-v-f73db414><!--[--><div class="item" data-v-f73db414><div class="nav-link" data-v-f73db414 data-v-3f935ff0><a class="item" href="/vite-docs/guide/" data-v-3f935ff0>指引 <!----></a></div></div><div class="item" data-v-f73db414><div class="nav-link" data-v-f73db414 data-v-3f935ff0><a class="item" href="/vite-docs/config/" data-v-3f935ff0>配置 <!----></a></div></div><div class="item" data-v-f73db414><div class="nav-link" data-v-f73db414 data-v-3f935ff0><a class="item" href="/vite-docs/plugins/" data-v-3f935ff0>插件 <!----></a></div></div><div class="item" data-v-f73db414><div class="nav-dropdown-link" data-v-f73db414 data-v-138c8ccb><button class="button" data-v-138c8ccb><span class="button-text" data-v-138c8ccb>相关链接</span><span class="right button-arrow" data-v-138c8ccb></span></button><ul class="dialog" data-v-138c8ccb><!--[--><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://twitter.com/vite_js" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Twitter</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://chat.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Discord Chat</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://github.com/vitejs/awesome-vite" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Awesome Vite</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://dev.to/t/vite" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Dev.to 社区</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://vite-rollup-plugins.patak.dev/" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>Rollup 插件兼容</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>更新日志</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-f73db414><div class="nav-dropdown-link" data-v-f73db414 data-v-138c8ccb><button class="button" data-v-138c8ccb><span class="button-text" data-v-138c8ccb>多语言</span><span class="right button-arrow" data-v-138c8ccb></span></button><ul class="dialog" data-v-138c8ccb><!--[--><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://cn.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>简体中文</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-138c8ccb><div class="nav-dropdown-link-item" data-v-138c8ccb data-v-63eb7c02><a class="item isExternal" href="https://vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-63eb7c02><span class="arrow" data-v-63eb7c02></span><span class="text" data-v-63eb7c02>English</span><span class="icon" data-v-63eb7c02><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-63eb7c02><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><!--]--><!----><div class="item" data-v-f73db414><div class="nav-link" data-v-f73db414 data-v-3f935ff0><a class="item isExternal" href="https://github.com/vitejs/docs-cn" target="_blank" rel="noopener noreferrer" data-v-3f935ff0>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-3f935ff0><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-4b92f82c><!--[--><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><p class="sidebar-link-item" data-v-4b92f82c>指引</p><ul class="sidebar-links" data-v-4b92f82c><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/why" data-v-4b92f82c>为什么选 Vite</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/" data-v-4b92f82c>开始</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/features" data-v-4b92f82c>功能</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/using-plugins" data-v-4b92f82c>使用插件</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/dep-pre-bundling" data-v-4b92f82c>依赖预构建</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/assets" data-v-4b92f82c>静态资源处理</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/build" data-v-4b92f82c>构建生产版本</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/static-deploy" data-v-4b92f82c>部署静态站点</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item active" href="/vite-docs/guide/env-and-mode" data-v-4b92f82c>环境变量与模式</a><ul class="sidebar-links" data-v-4b92f82c><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="#env-variables" data-v-4b92f82c>环境变量</a><ul class="sidebar-links" data-v-4b92f82c><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="#production-replacement" data-v-4b92f82c>生产环境替换</a><!----></li></ul></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="#env-files" data-v-4b92f82c>.env 文件</a><ul class="sidebar-links" data-v-4b92f82c><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="#intellisense" data-v-4b92f82c>智能提示</a><!----></li></ul></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="#modes" data-v-4b92f82c>模式</a><!----></li></ul></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/ssr" data-v-4b92f82c>服务端渲染（SSR）</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/backend-integration" data-v-4b92f82c>后端集成</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/comparisons" data-v-4b92f82c>比较</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/migration" data-v-4b92f82c>从 v1 迁移</a><!----></li></ul></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><p class="sidebar-link-item" data-v-4b92f82c>API</p><ul class="sidebar-links" data-v-4b92f82c><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/api-plugin" data-v-4b92f82c>插件 API</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/api-hmr" data-v-4b92f82c>HMR API</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/guide/api-javascript" data-v-4b92f82c>JavaScript API</a><!----></li><li class="sidebar-link" data-v-4b92f82c data-v-4b92f82c><a class="sidebar-link-item" href="/vite-docs/config/" data-v-4b92f82c>配置参考</a><!----></li></ul></li><!--]--></ul><!--[--><!--[--><div class="sponsors" data-v-4b92f82c><a href="https://github.com/sponsors/yyx990803" target="_blank" rel="noopener" data-v-4b92f82c><span data-v-4b92f82c>Sponsors</span></a><a href="https://tailwindcss.com" target="_blank" rel="noopener" aria-label="sponsor-img" data-v-4b92f82c><img src="/tailwind-labs.svg" alt="Tailwind Labs" id="sponsor-tailwind" data-v-4b92f82c></a><a href="https://vuejobs.com/?ref=vuejs" target="_blank" rel="noopener" aria-label="sponsor-img" data-v-4b92f82c><img src="/vuejobs.png" alt="Vue Jobs" id="sponsor-vuejobs" data-v-4b92f82c></a><a href="https://mux.com" target="_blank" rel="noopener" aria-label="sponsor-img" data-v-4b92f82c><img src="/mux.svg" alt="Mux" id="sponsor-mux" data-v-4b92f82c></a><a href="https://plaid.co.jp/" target="_blank" rel="noopener" aria-label="sponsor-img" data-v-4b92f82c><img src="/plaid.svg" alt="Plaid Inc." id="sponsor-plaid" data-v-4b92f82c></a></div><!--]--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-2b25a7d0><div class="container" data-v-2b25a7d0><!--[--><!--[--><div id="ads-container" data-v-2b25a7d0-s><div class="carbon-ads" data-v-3857f609></div></div><!--]--><!--[--><!--]--><!--]--><div class="content" data-v-2b25a7d0><div data-v-2b25a7d0><h1 id="env-variables-and-modes"><a class="header-anchor" href="#env-variables-and-modes" aria-hidden="true">#</a> 环境变量和模式</h1><h2 id="env-variables"><a class="header-anchor" href="#env-variables" aria-hidden="true">#</a> 环境变量</h2><p>Vite 在一个特殊的 <strong><code>import.<wbr>meta.env</code></strong> 对象上暴露环境变量。这里有一些在所有情况下都可以使用的内建变量：</p><ul><li><p><strong><code>import.<wbr>meta.env.MODE</code></strong>: {string} 应用运行的<a href="#modes">模式</a>。</p></li><li><p><strong><code>import.<wbr>meta.env.BASE_URL</code></strong>: {string} 部署应用时的基本 URL。他由<a href="/config/#base"><code>base</code> 配置项</a>决定。</p></li><li><p><strong><code>import.<wbr>meta.env.PROD</code></strong>: {boolean} 应用是否运行在生产环境。</p></li><li><p><strong><code>import.<wbr>meta.env.DEV</code></strong>: {boolean} 应用是否运行在开发环境 (永远与 <code>import.<wbr>meta.env.PROD</code>相反)。</p></li></ul><h3 id="production-replacement"><a class="header-anchor" href="#production-replacement" aria-hidden="true">#</a> 生产环境替换</h3><p>在生产环境中，这些环境变量会在构建时被<strong>静态替换</strong>，因此，在引用它们时请使用完全静态的字符串。动态的 key 将无法生效。例如，动态 key 取值 <code>import.<wbr>meta.env[key]</code> 是无效的。</p><p>它还将替换出现在 JavaScript 和 Vue 模板中的字符串。这应该是一种罕见的情况，但可能是不小心为之的。有一些方法可以避免这个问题：</p><ul><li><p>对于 JavaScript 字符串，你可以使用 unicode 零宽度空格 <strong><code>\u200b</code></strong> (一个看不见的分隔符)来分割这个字符串，例如： <code>&#39;import.<wbr>meta\u200b.env.MODE&#39;</code>。</p></li><li><p>对于 Vue 模板或其他编译到 JavaScript 字符串的 HTML，你可以使用 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/wbr" target="_blank" rel="noopener noreferrer"><code>&lt;wbr&gt;</code> 标签</a>，例如：<code>import.<wbr>meta.&lt;wbr&gt;env.MODE</code>。</p></li></ul><h2 id="env-files"><a class="header-anchor" href="#env-files" aria-hidden="true">#</a> <code>.env</code>文件</h2><p>Vite 使用 <a href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener noreferrer">dotenv</a> 从你的 <a href="/config/#envdir">环境目录</a> 中的下列文件加载额外的环境变量：</p><div class="language-"><pre><code>.env                # 所有情况下都会加载
.env.local          # 所有情况下都会加载，但会被 git 忽略
.env.[mode]         # 只在指定模式下加载
.env.[mode].local   # 只在指定模式下加载，但会被 git 忽略
</code></pre></div><p>加载的环境变量也会通过 <code>import.<wbr>meta.env</code> 暴露给客户端源码。</p><p>为了防止意外地将一些环境变量泄漏到客户端，只有以 <code>VITE_</code> 为前缀的变量才会暴露给经过 vite 处理的代码。例如下面这个文件中：</p><div class="language-"><pre><code>DB_PASSWORD=foobar
VITE_SOME_KEY=123
</code></pre></div><p>只有 <code>VITE_SOME_KEY</code> 会被暴露为 <code>import.<wbr>meta.env.VITE_SOME_KEY</code> 提供给客户端源码，而 <code>DB_PASSWORD</code> 则不会。</p><div class="warning custom-block"><p class="custom-block-title">安全注意事项</p><ul><li><p><code>.env.*.local</code> 文件应是本地的，可以包含敏感变量。你应该将 <code>.local</code> 添加到你的 <code>.gitignore</code> 中，以避免它们被 git 检入。</p></li><li><p>由于任何暴露给 Vite 源码的变量最终都将出现在客户端包中，<code>VITE_*</code> 变量应该不包含任何敏感信息。</p></li></ul></div><h3 id="intellisense"><a class="header-anchor" href="#intellisense" aria-hidden="true">#</a> 智能提示</h3><p>默认情况下，Vite 为 <code>import.<wbr>meta.env</code> 提供了类型定义。随着在 <code>.env[mode]</code> 文件中自定义了越来越多的环境变量，你可能想要在代码中获取这些以 <code>VITE_</code> 为前缀的用户自定义环境变量的 TypeScript 智能提示。</p><p>要想做到这一点，你可以在 <code>src</code> 目录下创建一个 <code>env.d.ts</code> 文件，接着按下面这样增加 <code>ImportMetaEnv</code> 的定义：</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">ImportMetaEnv</span> <span class="token punctuation">{</span>
  <span class="token constant">VITE_APP_TITLE</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">// 更多环境变量...</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="modes"><a class="header-anchor" href="#modes" aria-hidden="true">#</a> 模式</h2><p>默认情况下，开发服务器 (<code>serve</code> 命令) 运行在 <code>development</code> (开发) 模式，而 <code>build</code> 命令运行在 <code>production</code> (生产) 模式。</p><p>这意味着当执行 <code>vite build</code> 时，它会自动加载 <code>.env.production</code> 中可能存在的环境变量：</p><div class="language-"><pre><code># .env.production
VITE_APP_TITLE=My App
</code></pre></div><p>在你的应用中，你可以使用 <code>import.<wbr>meta.env.VITE_APP_TITLE</code> 渲染标题。</p><p>然而，重要的是要理解 <strong>模式</strong> 是一个更广泛的概念，而不仅仅是开发和生产。一个典型的例子是，你可能希望有一个 “staging” (预发布|预上线) 模式，它应该具有类似于生产的行为，但环境变量与生产环境略有不同。</p><p>你可以通过传递 <code>--mode</code> 选项标志来覆盖命令使用的默认模式。例如，如果你想为我们假设的 staging 模式构建应用：</p><div class="language-bash"><pre><code>vite build --mode staging
</code></pre></div><p>为了使应用实现预期行为，我们还需要一个 <code>.env.staging</code> 文件：</p><div class="language-"><pre><code># .env.staging
NODE_ENV=production
VITE_APP_TITLE=My App (staging)
</code></pre></div><p>现在，你的 staging 应用应该具有类似于生产的行为，但显示的标题与生产环境不同。</p></div></div><footer class="page-footer" data-v-2b25a7d0 data-v-ad063ca8><div class="edit" data-v-ad063ca8><div class="edit-link" data-v-ad063ca8 data-v-1501f284><a class="link" href="https://github.com/vitejs/docs-cn/edit/main/guide/env-and-mode.md" target="_blank" rel="noopener noreferrer" data-v-1501f284>为此页提供修改建议 <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1501f284><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-ad063ca8><!----></div></footer><div class="next-and-prev-link" data-v-2b25a7d0 data-v-01ae7502><div class="container" data-v-01ae7502><div class="prev" data-v-01ae7502><a class="link" href="/vite-docs/guide/static-deploy" data-v-01ae7502><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-01ae7502><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-01ae7502>部署静态站点</span></a></div><div class="next" data-v-01ae7502><a class="link" href="/vite-docs/guide/ssr" data-v-01ae7502><span class="text" data-v-01ae7502>服务端渲染（SSR）</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-01ae7502><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"9f44e0a1\",\"index.md\":\"964b07ca\",\"blog_announcing-vite2.md\":\"8761f814\",\"config_index.md\":\"81a90058\",\"guide_api-hmr.md\":\"e41bbebe\",\"guide_api-javascript.md\":\"2212500e\",\"guide_api-plugin.md\":\"141b7690\",\"guide_assets.md\":\"caafb6be\",\"guide_backend-integration.md\":\"5be216c5\",\"guide_build.md\":\"903fd377\",\"guide_comparisons.md\":\"651c9a43\",\"guide_dep-pre-bundling.md\":\"591b3736\",\"guide_env-and-mode.md\":\"feb2bd78\",\"guide_features.md\":\"b7ddfdb5\",\"guide_index.md\":\"9b7d448e\",\"guide_migration.md\":\"f0971df6\",\"guide_ssr.md\":\"b117ec67\",\"guide_static-deploy.md\":\"02edc2ae\",\"guide_using-plugins.md\":\"501e1868\",\"guide_why.md\":\"63f6d36f\",\"plugins_index.md\":\"e034d7b4\"}")</script>
    <script type="module" async src="/vite-docs/assets/app.a2203fca.js"></script>
  </body>
</html>